(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[891],{2891:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return z}});var r,a,o,i=t(8152),s=t(168),c=t(1242),l=c.ZP.article(r||(r=(0,s.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),u=t(2791),d=c.ZP.form(a||(a=(0,s.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  margin-bottom: 10px;\n\n  border: 1px solid black;\n  padding: 20px;\n"]))),p=c.ZP.button(o||(o=(0,s.Z)(["\n  background-color: white;\n  text-align: center;\n  border: 4px solid blue;\n  border-radius: 10px;\n  font-size: 18px;\n  margin-top: 20px;\n  cursor: pointer;\n"]))),f=t(4017),h=t(184);function m(){var e=(0,f.wY)().data,n=(0,f.Ol)(),t=(0,i.Z)(n,1)[0],r=(0,u.useState)(""),a=(0,i.Z)(r,2),o=a[0],s=a[1],c=(0,u.useState)(""),l=(0,i.Z)(c,2),m=l[0],x=l[1],b=function(e){switch(e.target.name){case"name":return s(e.target.value);case"number":return x(e.target.value);default:throw new Error}},g=function(n){e.some((function(e){return e.name.toLocaleLowerCase()===o.toLocaleLowerCase()}))?alert("".concat(o," is already in contacts")):t(n)},y=function(){s(""),x("")};return(0,h.jsxs)(d,{onSubmit:function(e){e.preventDefault(),g({name:o,number:m}),y()},children:[(0,h.jsxs)("label",{children:["Name",(0,h.jsx)("input",{type:"text",name:"name",value:o,onChange:b,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,h.jsxs)("label",{children:["Number",(0,h.jsx)("input",{type:"tel",name:"number",value:m,onChange:b,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,h.jsx)(p,{type:"submit",children:"Add contact"})]})}var x,b,g=function(e){var n=e.value,t=e.onChange;return(0,h.jsxs)("label",{children:["Find contacts by name",(0,h.jsx)("input",{type:"text",name:"filter",value:n,onChange:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})]})},y=t(2007),v=t.n(y),C=c.ZP.button(x||(x=(0,s.Z)(["\n  background-color: white;\n  border: 2px solid red;\n  border-radius: 10px;\n  font-size: 14px;\n  margin-left: 20px;\n  cursor: pointer;\n"]))),j=c.ZP.li(b||(b=(0,s.Z)(["\n  border: 1px solid blue;\n  border-radius: 4px;\n  font-size: 14px;\n  :not(:last-child) {\n    margin-bottom: 10px;\n  }\n  padding: 5px;\n"]))),Z=t(4739),w=t(2978),_=function(e){var n=e.filter,t=(0,f.wY)(),r=t.data,a=t.isUninitialized,o=t.isFetching,s=t.refetch,c=t.isError,l=(0,w.v9)(Z.Z.getIsLoggedIn);var u=(0,f.zr)(),d=(0,i.Z)(u,2),p=d[0],m=d[1].isLoading,x=r&&!o&&!c&&l&&s;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{onClick:s,disabled:a,children:" REFETCH "}),x&&r.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return(0,h.jsxs)(j,{children:[e.name,": ",e.number,(0,h.jsx)(C,{disabled:a,onClick:function(){return p(e.id)},children:m?"deleting...":"Delete"})]},e.id)}))]})},k=function(e){var n=e.filter;return(0,h.jsx)("ol",{children:(0,h.jsx)(_,{filter:n})})};function z(){var e=(0,u.useState)(""),n=(0,i.Z)(e,2),t=n[0],r=n[1];return(0,h.jsxs)(l,{children:[(0,h.jsx)("h1",{children:"Phonebook"}),(0,h.jsx)(m,{}),(0,h.jsx)("h2",{children:"Contacts"}),(0,h.jsx)(g,{value:t,onChange:function(e){r(e.target.value)}}),(0,h.jsx)(k,{filter:t})]})}_.propTypes={filter:v().string.isRequired}},888:function(e,n,t){"use strict";var r=t(9047);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,n,t,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function n(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:o,resetWarningCache:a};return t.PropTypes=t,t}},2007:function(e,n,t){e.exports=t(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=891.aff1ec5c.chunk.js.map